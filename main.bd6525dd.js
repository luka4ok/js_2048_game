parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";var n=2,e=2048,t="keydown",r={up:"ArrowUp",down:"ArrowDown",right:"ArrowRight",left:"ArrowLeft"},o=Object.values(r),u=[r.up,r.down],c=[r.down,r.right],i=document.documentElement,s=document.querySelector(".button"),a=document.querySelector(".message-start"),f=document.querySelector(".message-win"),l=document.querySelector(".message-lose"),d=document.querySelector(".game-field"),v=document.querySelector(".game-score"),m=[[1,2,4,6],[7,8,9,3],[6,5,2,2],[1024,1024,6,7]],h=m.length,w=0;function g(n){var e=n.key;o.includes(e)&&(u.includes(e)?(C(m=D(m),e),m=D(m)):C(m,e),q(m.flat())&&(L(f),i.removeEventListener(t,g)),S(m)&&(L(l),i.removeEventListener(t,g)),y(m))}function L(n){n.classList.remove("hidden")}function y(n){for(var e in n)for(var t in n[e]){var r=n[e][t]||"";d.rows[e].cells[t].textContent=r,d.rows[e].cells[t].className=r?"field-cell field-cell--".concat(n[e][t]):"field-cell"}M(w)}function p(n){for(var e=0;e<n.length;e++)n[e]===n[e+1]&&(n[e+1]*=2,E(w+=n[e+1]),n[e]=0,e+=1);return n}function E(n){w=n}function q(n){return n.some(function(n){return n===e})}function S(n){return!!n.flat().every(function(n){return n})&&(!A(n)&&!A(D(n)))}function A(n){return n.some(function(n){return n.some(function(e,t){return n[t]===n[t+1]})})}function k(n,e){var t;return c.includes(e)?t=n.sort(function(n){return n?0:-1}):[r.left,r.up].includes(e)&&(t=n.reverse().sort(function(n){return n?0:-1}).reverse()),t}function x(n){var e=n.reduce(function(n,e,t){return e.forEach(function(e,r){0===e&&n.push([t,r])}),n},[]);return e[N(e.length-1)]}function C(n,e){for(var t in n)n[t]=k(n[t],e),n[t]=p(n[t]),n[t]=k(n[t],e);var r=x(n);r&&(n[r[0]][r[1]]=R())}function M(n){v.textContent=n}function b(n){for(var e=[];e.length<n;)e.push(R());return e}function R(){return Math.random()<.9?2:4}function j(n,e){for(var t=[],r=function(){var e={row:N(n),col:N(n)};t.some(function(n){var t=n.row,r=n.col;return t===e.row&&r===e.col})||t.push(e)};t.length<e;)r();return t}function D(n){var e=Array.from({length:n.length}).map(function(){return[]});for(var t in n)for(var r in n[t])e[t].push(n[r][t]);return e}function N(n){return Math.floor(Math.random()*n)}function O(){E(0),m=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],i.addEventListener(t,g)}s.addEventListener("click",function(){s.classList.contains("start")&&(s.classList.remove("start"),s.classList.add("restart"),s.textContent="Restart",a.classList.add("hidden")),O();var e=j(h,n),t=b(n);e.forEach(function(n,e){var r=n.row,o=n.col;m[r][o]=t[e]}),y(m)}),i.addEventListener(t,g);
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.bd6525dd.js.map